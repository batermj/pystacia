data =\
{'colorspace': [{'_version': (6, 6, 2, 10),
                 'cmy': 22,
                 'cmyk': 12,
                 'gray': 2,
                 'hsb': 14,
                 'hsl': 15,
                 'hwb': 16,
                 'lab': 5,
                 'log': 21,
                 'ohta': 4,
                 'rec601luma': 17,
                 'rec601ycbcr': 18,
                 'rec709luma': 19,
                 'rec709ycbcr': 20,
                 'rgb': 1,
                 'srgb': 13,
                 'transparent': 3,
                 'undefined': 0,
                 'xyz': 6,
                 'ycbcr': 7,
                 'ycc': 8,
                 'yiq': 9,
                 'ypbpr': 10,
                 'yuv': 11}],
 'composite': [{'_version': (6, 6, 2, 10),
                'atop': 3,
                'blend': 4,
                'blur': 57,
                'bumpmap': 5,
                'change_mask': 6,
                'clear': 7,
                'color_burn': 8,
                'color_dodge': 9,
                'colorize': 10,
                'copy': 13,
                'copy_black': 11,
                'copy_blue': 12,
                'copy_cyan': 14,
                'copy_green': 15,
                'copy_magenta': 16,
                'copy_opacity': 17,
                'copy_red': 18,
                'copy_yellow': 19,
                'darken': 20,
                'difference': 26,
                'displace': 27,
                'dissolve': 28,
                'distort': 56,
                'divide': 55,
                'dst': 22,
                'dst_atop': 21,
                'dst_in': 23,
                'dst_out': 24,
                'dst_over': 25,
                'exclusion': 29,
                'hard_light': 30,
                'hue': 31,
                'in': 32,
                'lighten': 33,
                'linear_burn': 62,
                'linear_dodge': 61,
                'linear_light': 34,
                'luminize': 35,
                'mathematics': 63,
                'minus': 36,
                'modulate': 37,
                'modulus_add': 2,
                'modulus_subtract': 52,
                'multiply': 38,
                'no': 1,
                'out': 39,
                'over': 40,
                'overlay': 41,
                'pegtop_light': 58,
                'pin_light': 60,
                'plus': 42,
                'replace': 43,
                'saturate': 44,
                'screen': 45,
                'soft_light': 46,
                'src': 48,
                'src_atop': 47,
                'src_in': 49,
                'src_out': 50,
                'src_over': 51,
                'threshold': 53,
                'undefined': 0,
                'vivid_light': 59,
                'xor': 54},
               {'_version': (6, 6, 8, 6),
                'atop': 3,
                'blend': 4,
                'blur': 57,
                'bumpmap': 5,
                'change_mask': 6,
                'clear': 7,
                'color_burn': 8,
                'color_dodge': 9,
                'colorize': 10,
                'copy': 13,
                'copy_black': 11,
                'copy_blue': 12,
                'copy_cyan': 14,
                'copy_green': 15,
                'copy_magenta': 16,
                'copy_opacity': 17,
                'copy_red': 18,
                'copy_yellow': 19,
                'darken': 20,
                'difference': 26,
                'displace': 27,
                'dissolve': 28,
                'distort': 56,
                'divide_dst': 55,
                'divide_src': 64,
                'dst': 22,
                'dst_atop': 21,
                'dst_in': 23,
                'dst_out': 24,
                'dst_over': 25,
                'exclusion': 29,
                'hard_light': 30,
                'hue': 31,
                'in': 32,
                'lighten': 33,
                'linear_burn': 62,
                'linear_dodge': 61,
                'linear_light': 34,
                'luminize': 35,
                'mathematics': 63,
                'minus_dst': 36,
                'minus_src': 65,
                'modulate': 37,
                'modulus_add': 2,
                'modulus_subtract': 52,
                'multiply': 38,
                'no': 1,
                'out': 39,
                'over': 40,
                'overlay': 41,
                'pegtop_light': 58,
                'pin_light': 60,
                'plus': 42,
                'replace': 43,
                'saturate': 44,
                'screen': 45,
                'soft_light': 46,
                'src': 48,
                'src_atop': 47,
                'src_in': 49,
                'src_out': 50,
                'src_over': 51,
                'threshold': 53,
                'undefined': 0,
                'vivid_light': 59,
                'xor': 54},
               {'_version': (6, 6, 9, 5),
                'atop': 3,
                'blend': 4,
                'blur': 57,
                'bumpmap': 5,
                'change_mask': 6,
                'clear': 7,
                'color_burn': 8,
                'color_dodge': 9,
                'colorize': 10,
                'copy': 13,
                'copy_black': 11,
                'copy_blue': 12,
                'copy_cyan': 14,
                'copy_green': 15,
                'copy_magenta': 16,
                'copy_opacity': 17,
                'copy_red': 18,
                'copy_yellow': 19,
                'darken': 20,
                'darken_intensity': 66,
                'difference': 26,
                'displace': 27,
                'dissolve': 28,
                'distort': 56,
                'divide_dst': 55,
                'divide_src': 64,
                'dst': 22,
                'dst_atop': 21,
                'dst_in': 23,
                'dst_out': 24,
                'dst_over': 25,
                'exclusion': 29,
                'hard_light': 30,
                'hue': 31,
                'in': 32,
                'lighten': 33,
                'lighten_intensity': 67,
                'linear_burn': 62,
                'linear_dodge': 61,
                'linear_light': 34,
                'luminize': 35,
                'mathematics': 63,
                'minus_dst': 36,
                'minus_src': 65,
                'modulate': 37,
                'modulus_add': 2,
                'modulus_subtract': 52,
                'multiply': 38,
                'no': 1,
                'out': 39,
                'over': 40,
                'overlay': 41,
                'pegtop_light': 58,
                'pin_light': 60,
                'plus': 42,
                'replace': 43,
                'saturate': 44,
                'screen': 45,
                'soft_light': 46,
                'src': 48,
                'src_atop': 47,
                'src_in': 49,
                'src_out': 50,
                'src_over': 51,
                'threshold': 53,
                'undefined': 0,
                'vivid_light': 59,
                'xor': 54}],
 'type': [{'_version': (6, 6, 2, 10),
           'bilevel': 1,
           'color_separation': 8,
           'color_separation_matte': 9,
           'grayscale': 2,
           'grayscale_matte': 3,
           'optimize': 10,
           'palette': 4,
           'palette_bilevel_matte': 11,
           'palette_matte': 5,
           'true_color': 6,
           'true_color_matte': 7,
           'undefined': 0}]}

def lookup(mnemonic, version):
    value = None
    
    for entry in data.get(mnemonic.enum.name, []):
        if entry['_version'] > version: break
        value = entry.get(mnemonic.name)
        
    return value

def reverse_lookup(enum, value, version):
    mnemonic = None
    
    for entry in data.get(enum.name, []):
        if entry['_version'] > version: break
        reversed = dict(zip(entry.values(), entry.keys()))
        mnemonic = getattr(enum, reversed.get(value))
    
    return mnemonic
